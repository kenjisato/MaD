```{r}
fmt <- exams::fmt

income <- round(rexp(500, 0.001))
write.csv(data.frame(income), file = "income.csv", 
          quote = FALSE, row.names = FALSE)

# Relative Poverty
rpr <- mean(income < median(income) / 2) * 100

# Gini
sorted <- sort(income)
Y <- c(0, cumsum(sorted) / sum(income))
gini <- 1 - (2 * sum(Y) - 1) / length(sorted)

# Top decile
topincome <- income[income > quantile(income, 0.9)]
topshare <- sum(topincome) / sum(income) * 100

questions <- c("", "", "")
solutions <- explanations <- c(fmt(rpr, 1), fmt(gini, 2), fmt(topshare, 1))

```

Question
========


#### 問題

[income.csv](income.csv) の数値を所得データとみなして以下の指標を計算しなさい。

- **相対的貧困率** ##ANSWER1##
  - % 換算して小数第2位を四捨五入; e.g. 40.3
- **ジニ係数** ##ANSWER2##
  - 0から1までの小数, 小数第3位を四捨五入; e.g. 0.53
- **トップ 10% 所得シェア** ##ANSWER3##
  - % 換算して小数第2位を四捨五入; e.g. 30.4

　
　

#### 注意

income.csv は問題にチャレンジするたびに変わるので，毎回ファイルをダウンロードし直してください。ダウンロード済みのファイルを使い回すと正解できないので注意してください。
　
　
　

#### CSV ファイルをロードする方法

ダウンロードしたファイルを

- Jupyter ノートブックと同じフォルダ, あるいは 
- IPython の作業ディレクトリ（`%pwd` で調べる）に置く，
- Google Colaboratory を使用している場合は，「フォルダ」のアイコンでファイルタブを開いてドラッグ＆ドロップでアップロードする。（sample_data というもともとあるフォルダと隣りあうようにするとよいようです）

そして，以下のコードを実行してください。

```python
import pandas as pd
income = pd.read_csv('income.csv').squeeze()
```





```{r questionlist, echo = FALSE, results = "asis"}
answerlist(unlist(questions), markup = "markdown")
```




Solution
========

テキスト ch03, スライド Week 5 をチェックする。

```{r solutionlist, echo = FALSE, results = "asis"}
answerlist(unlist(explanations), markup = "markdown")
```



Meta-information
================
exname: week5
extype: cloze
exclozetype: num|num|num
exsolution: `r paste(solutions, collapse = "|")`
extol: 0.1|0.01|0.1

exextra[numwidth,logical]: TRUE
